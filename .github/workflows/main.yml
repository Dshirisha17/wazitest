name: SSH Command via CMD on Windows with sshpass

on:
  push:
    branches:
      - main

jobs:
  ssh-job:
    runs-on: self-hosted

    steps:
    - name: Checkout repository
      uses: actions/checkout@v3

    - name: Run SSH command on Windows
      run: |
        # $host = "10.10.1.180"
        # $username = "ibmuser"
        # $password = "s3cure"
        # $port = 2222

        # Run the SSH command with sshpass (assuming sshpass.exe is in PATH)
        sshpass -p 's3cure' ssh ibmuser@10.10.1.180 -p 2222 'whoami'
      shell: cmd
