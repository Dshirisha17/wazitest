name: SSH Login with Password

on:
  push:
    branches:
      - main

jobs:
  ssh-login:
    runs-on: self-hosted
    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Install sshpass
        run: |
          choco install sshpass # Ensure sshpass is installed on your Windows runner

      - name: Execute Command on Linux Machine
        run: |
          sshpass -p "s3cure" ssh -o StrictHostKeyChecking=no ibmsys1@10.10.1.180 -p 2222 'echo "Logged in successfully" && uname -a'
